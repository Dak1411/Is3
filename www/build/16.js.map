{"version":3,"sources":["../../src/pages/buddy-chat/buddy-chat.module.ts","../../src/providers/disable-side-menu.ts","../../src/pages/buddy-chat/buddy-chat.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BuddyChatPage } from './buddy-chat';\n\n@NgModule({\n  declarations: [\n    BuddyChatPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BuddyChatPage),\n  ],\n})\nexport class BuddyChatPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buddy-chat/buddy-chat.module.ts","\r\n\r\n// Ionic\r\nimport { MenuController } from \"ionic-angular\";\r\nimport { AppModule } from \"../app/app.module\";\r\n\r\nexport function DisableSideMenu() {\r\n\r\n    return function (constructor) {\r\n        const originalDidEnter = constructor.prototype.ionViewDidEnter;\r\n        const originalWillLeave = constructor.prototype.ionViewWillLeave;            \r\n\r\n        constructor.prototype.ionViewDidEnter = function () {\r\n\r\n            // Get the MenuController instance\r\n            const menuCtrl = AppModule.injector.get(MenuController);\r\n\r\n            // Disable the side menu when entering in the page\r\n            menuCtrl.enable(false);\r\n\r\n            console.log('Disabling side menu...');\r\n\r\n            // Call the ionViewDidEnter event defined in the page\r\n            originalDidEnter && typeof originalDidEnter === 'function' && originalDidEnter.apply(this, arguments);\r\n        };\r\n\r\n        constructor.prototype.ionViewWillLeave = function () {\r\n\r\n            // Get the MenuController instance\r\n            const menuCtrl = AppModule.injector.get(MenuController);\r\n\r\n            // Enable the side menu when leaving the page\r\n            menuCtrl.enable(true);\r\n\r\n            console.log('Enabling side menu...');\r\n\r\n            // Call the ionViewWillLeave event defined in the page\r\n            originalWillLeave && typeof originalWillLeave === 'function' && originalWillLeave.apply(this, arguments);\r\n        };\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/disable-side-menu.ts","import { Component,ViewChild, OnInit } from '@angular/core';\nimport { IonicPage, NavController,NavParams,PopoverController } from 'ionic-angular';\nimport { DisableSideMenu } from '../../providers/disable-side-menu';\nimport { ChatserviceProvider } from '../../providers/chatservice/chatservice';\nimport { Socket } from 'ng-socket-io';\nimport { Events } from 'ionic-angular/util/events';\nimport { Observable } from 'rxjs/Observable';\n\n@DisableSideMenu()\n@IonicPage()\n@Component({\n  selector: 'page-buddy-chat',\n  templateUrl: 'buddy-chat.html',\n})\nexport class BuddyChatPage implements OnInit{\n \n\n  myStuff = '';\n  recipient:any = '';\n  message:any[] = [];\n  sender:any= '';\n  council:any = '';\n  newMessage:any = ''\n\n  constructor(public navCtrl: NavController,\n              public navParams:NavParams,\n              public chat:ChatserviceProvider,\n              public socket:Socket,\n              public event:Events,\n              public popOver:PopoverController) {\n                  this.getMessages().subscribe(message => {\n                    this.message.push(message);\n                  });\n\n                this.socket.on('sentMessage',data=>{\n                  console.log(data)\n                })\n\n                this.socket.on('message',data=>{\n                  this.message.push(data)\n                })\n\n                // this.event.subscribe('sentMessage',data=>{\n                //   console.log(data)\n                // })\n  }\n\n  ngOnInit(): void {\n   try {\n    this.recipient = this.navParams.get('user');\n    this.sender = JSON.parse(localStorage.getItem('userProfile'));\n    this.council = localStorage.getItem('council');\n   } catch (error) {\n     \n   }\n    console.log(this.recipient)\n    this.chat.getFriendMessage();\n  }\n  viewPopOver(ev){\n    let popover = this.popOver.create('PopOverPage', {\n      category: ''\n    });\n    popover.present({\n      ev: ev\n    });\n    popover.onDidDismiss((popoverData) => {\n      if (popoverData === null) {\n\n      } else {\n        console.log(popoverData)\n      }\n\n    })\n  }\n\n  sendMessage(){\n    if(this.newMessage){\n      let messageRequest={\n        'sender':this.sender.id,\n        'recipient':this.recipient._id,\n        'message_id':this.council+'_'+this.sender.id+'_'+Date.now(),\n        'message':this.newMessage,\n        'loca_time':new Date(),\n      }\n      this.socket.emit('newMessage',messageRequest);\n      this.message.push(messageRequest);\n      this.newMessage = '';\n    }\n   \n    //this.chat.sendMessage(messageRequest);\n  }\n  getMessages() {\n    let observable = new Observable(observer => {\n      this.socket.on('newMessage', (data) => {\n        observer.next(data);\n      });\n    })\n    return observable;\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buddy-chat/buddy-chat.ts"],"sourceRoot":""}